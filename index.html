<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
    <title>Cardio</title>
    <iframe src="./background.html" style="display:none;"></iframe>
  </head>
  <body>
    <div id="app"></div>
    <script>
      var startF = 0;
      /*----------------------------------------------------------------------
      Prevent Reload page when workout
      ----------------------------------------------------------------------*/
      window.onbeforeunload = function() {
          if (startF.time != 0){
              return "Do you want to reload page?";
          };
      };

      /*----------------------------------------------------------------------
      Prevent Lock Screen on mobile
      - first event: click
      - second event: hide tab
      ----------------------------------------------------------------------*/
      var checkScreen = 0;
      document.addEventListener('click', async () => {
        if (('wakeLock' in navigator) && (checkScreen == 0)) {
            checkScreen = 1;
            let screenLock = await navigator.wakeLock.request('screen');
        };
      });

      document.addEventListener('visibilitychange', async () => {
        if ('wakeLock' in navigator) {
            let screenLock = await navigator.wakeLock.request('screen');
        };
      });
    </script>
    <script src="./cardio/build.js"></script>
  </body>
</html>
